<div data-controller ="reservations"
      data-default-checkin-date = "<%= Date.today.strftime("%d/%m/%Y") %>"
      data-default-checkout-date = "<%= (Date.tomorrow).strftime("%d/%m/%Y") %>"
      data-night-price="<%= humanized_money(@property.price) %>"
      data-service-fee="<%= Property::SERVICE_FEE_PERCENTAGE %>"
      data-cleaning-fee="<%= humanized_money(Property::CLEANING_FEE_MONEY) %>"
>
  <div class= "g:col-span-2 lg:pr-8">
    <h1 class="text-xl font-bold tracking-tight text-gray-900 sm:text-2xl"> Book property :</h1>
  </div>
    <!--Reservation component-->
  <div class="mt-4 lg:mt-0 1g:row-span-3">
    <div class="mt-10 lg:mt-0">
      <h2 class= "text-1xl font-medium text-gray-900"> <%= humanized_money_with_symbol(@property.price) %> night</h2>

      <div class="isolate -space-y-px rounded-md shadow-sm mt-5">
        <div class="relative border border-gray-300 rounded-md rounded-b-none px-3 py-2 focus-within:z-10 focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600">
          <label for= "name" class="block text-xs font-medium text-gray 900 uppercase">Check-in </label>
          <input data-reservations-target="checkIn"
            type= "text" name= "name" id="name" class="block w-full text-gray-900 placeholder-gray-500 sm:text-sm" placeholder= "10/08/2023" autocomplete="none">
        </div>
        <div class="relative border border-gray-300 rounded-m rounded-t-none px-3 py-2 focus-within:z-10 focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600">
          <label for="job-title" class="block text-xs font-medium text -gray-900 uppercase">Checkout</label>
          <input data-reservations-target="checkOut"
            type="text" name="job-title" id="job-title" class="block w-full text-gray-900 placeholder-gray-500 sm:text-sm" placeholder= "16/08/2023" autocomplete="none">
        </div>
      </div>
      <div class= "b-white mt-6">
        <div class="divide-y divide-gray-200">
        </div>
        <dl class= "space-y-6">
          <div class="flex items-center justify-between">
            <dt class="text-sm"><%= humanized_money_with_symbol(@property.price) %> x <span data-reservations-target="updateNumberOfNights"> night </span></dt>

            <dd class="text-sm font-medium text-gray-900">€<span data-reservations-target="nightTotal">0.00</span> </dd>
          </div>
          <div class="flex items-center justify-between">
            <dt class="text-sm">Cleaning fee</dt>
            <dd class="text-sm font-medium text-gray-900"> <%= humanized_money_with_symbol(Property::CLEANING_FEE_MONEY) %> </dd>
          </div>
          <div class="flex items-center justify-between">
            <dt class="text-sm">Service fee</dt>
            <dd class="text -sm font-medium text-gray-900">€<span data-reservations-target="serviceFee">0.00</span></dd>
          </div>
          <div class="flex items-center justify-between border-t border-gray-200 pt-2">
            <dt class="text-base font-medium">Total</dt>
            <dd class="text-base font -medium text-gray-900">€<span data-reservations-target="total">0.00</span></dd>
          </div>
        </dl>
        <div class="pt-6">
          <button data-action="reservations#submitReservationComponent"
                  type="submit"
                  class="w-full bg-indigo-400 border border-transparent rounded-md shadow-sm py-3 px-4 text-base font-medium text-sm mb-2"
                  data-submit-url="<%= new_property_reservation_path(@property) %>">
                  Make a reservation
          </button>
        </div>
    </div>
  </div>
</div>
